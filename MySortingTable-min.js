/**
 * @fileOverview 
 *  Simple class to perform the table sort: was created specifically to compensate for the fact that - sometimes - sorting datatables cannot be applied. 
 *  The other usefulness is that it's a single file. It does not depends on any other file (css, javascript, etc.)
 *  Add the .toSort class to the th to be sorted.
 *  Add the .defaultSort class to the th to be sorted immediately upon loading the table.
 * @author Davide Buccella
 * @version 2.4.1
 * @dependency none
 * @license MIT
 */
class MySortingTable{selector="";selectorForId="";isCaseSensitive=!1;g={path:{d:""}};defaultSortIcon={size:{w:13,h:13},svg:{viewBox:"0 0 36.678 36.678",style:"enable-background:new "+this.viewBox+"; margin-left: 1rem;",g:{path:{d:"M29.696,20.076c0.088,0.16,0.08,0.354-0.021,0.51L19.395,36.449c-0.091,0.139-0.241,0.224-0.407,0.229 c-0.004,0-0.008,0-0.015,0c-0.157,\n                    0-0.31-0.076-0.403-0.205L6.998,20.609c-0.11-0.15-0.127-0.354-0.041-0.521 c0.085-0.168,0.257-0.272,0.444-0.272h21.855C29.443,19.814,29.609,\n                    19.914,29.696,20.076z M7.401,16.865h21.855 c0.008,0,0.017,0,0.021,0c0.275,0,0.5-0.225,0.5-0.5c0-0.156-0.07-0.295-0.184-0.388L18.086,\n                    0.205 C17.989,0.072,17.821,0.002,17.668,0c-0.165,0.005-0.315,0.09-0.406,0.229L6.982,16.094c-0.101,0.152-0.105,0.35-0.021,0.512 C7.05,16.765,\n                    7.218,16.865,7.401,16.865z"}}}};descSortIcon={size:{w:this.defaultSortIcon.size.w+3,h:8},svg:{viewBox:"0 0 31.999 32",style:"enable-background:new "+this.viewBox+"; margin-left: 0.8rem;",g:{path:{d:"M31.92,5.021l-14.584,22.5c-0.089,0.138-0.241,0.223-0.406,0.229c-0.004,0-0.009,0-0.014,0 c-0.16,0-0.312-0.076-0.404-0.205L0.096,5.044C-0.015,\n                    4.893-0.031,4.69,0.054,4.523C0.139,4.354,0.312,4.25,0.5,4.25h31 c0.183,0,0.352,0.1,0.438,0.261C32.026,4.67,32.019,4.867,31.92,5.021z"}}}};constructor(t,e=!1){this.isCaseSensitive=e,document.querySelectorAll(t).forEach((t=>{if(this.selector=t,this.removeClass(this.selector.querySelectorAll("th"),"asc desc"),this.iconInit(),!this.hasClass(this.selector,"initialized")){var e=this;this.selector.querySelectorAll("th.toSort").forEach(((t,s)=>{t.addEventListener("click",(function(){e.clickEvent(this,s)}))})),this.addClass(this.selector,"initialized")}this.selector.querySelectorAll("th.toSort.defaultSort").forEach((t=>{t.click()}))}))}getRandomId(){return Math.floor(1e3*Math.random())}clickEvent(t,e){var s=t.closest("table").querySelector("tbody"),r=s.querySelectorAll("tr > td:nth-child("+(e+1)+")"),o=[];r.forEach((function(t,e){var s="trToSort_"+e;t.closest("tr").setAttribute("data-mysortingtable",s);var r=t.innerText;o.push({dataId:s,value:r})})),this.hasClass(t,"desc")?this.sortAsc(o,t):this.hasClass(t,"asc")?this.sortDesc(o,t):this.sortAsc(o,t),o.forEach((t=>{s.append(s.querySelector('[data-mysortingtable="'+t.dataId+'"]'))}))}iconInit(){this.removeSortIcons();var t=this.selector.querySelectorAll("th.toSort");t.forEach((t=>{t.style.cursor="pointer"})),this.appendDefaultSortIcon(t)}appendDefaultSortIcon(t){this.appendHtml(t,this.getDefaultSortSvg())}sortAsc(t,e){var s=this;t.sort((function(t,e){var r=s.getSortValues(t,e);return r.a<r.b?-1:r.a>r.b?1:0})),this.replaceSortIcon(e,this.getAscSortSvg()),this.changeClass(e,"desc","asc")}changeClass(t,e,s){this.removeClass(t,e),this.addClass(t,s)}sortDesc(t,e){var s=this;t.sort((function(t,e){var r=s.getSortValues(t,e);return r.a>r.b?-1:r.a<r.b?1:0})),this.replaceSortIcon(e,this.getDescSortSvg()),this.changeClass(e,"asc","desc")}getSortValues(t,e){return{a:this.getSortValue(t),b:this.getSortValue(e)}}getSortValue(t){return this.isCaseSensitive?t.value:t.value.toLowerCase()}appendHtml(t,e){t&&(t=Array.from(t),Array.isArray(t)?t.forEach((t=>{t.innerHTML+=e})):t&&(t.innerHTML+=e))}hasClass(t,e){return t.classList.contains(e)}removeSortIcons(){this.removeDomElem(this.selector.querySelectorAll(".fa-sort-desc, .fa-sort-asc, .fa-sort"))}removeDomElem(t){t&&(1===t.length?t.remove():t.length>1&&t.forEach((t=>{t.remove()})))}removeClass(t,e){var s="string"==typeof t?document.querySelector(t):t;e=e.split(" "),s&&s.classList&&s.classList.remove(...e)}addClass(t,e){var s="string"==typeof t?document.querySelector(t):t;e=e.split(" "),s&&s.classList&&s.classList.add(...e)}replaceSortIcon(t,e){t.querySelector(".sortIcon").remove(),t.innerHTML+=e}getDefaultSortSvg(){return this.getSvgTemplate(this.defaultSortIcon.size,this.defaultSortIcon.svg.viewBox,this.defaultSortIcon.svg.style,this.defaultSortIcon.svg.g)}getDescSortSvg(){return this.getSvgTemplate(this.descSortIcon.size,this.descSortIcon.svg.viewBox,this.descSortIcon.svg.style,this.descSortIcon.svg.g)}getAscSortSvg(){return this.getSvgTemplate(this.descSortIcon.size,this.descSortIcon.svg.viewBox,this.descSortIcon.svg.style+" margin-bottom: 5px; transform: rotate(180deg); ",this.descSortIcon.svg.g)}getSvgTemplate(t,e,s,r){return'<svg version="1.1" class="sortIcon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+t.w+'px" height="'+t.h+'px" viewBox="'+e+'" style="'+s+'"> <g> <path d="'+r.path.d+'"/> </g></svg>'}}